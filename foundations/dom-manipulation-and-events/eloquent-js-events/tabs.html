<!DOCTYPE html>

<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Tabs</title>
        <link rel="stylesheet" href="./styles.css">
    </head>

    <body>
        <tab-panel>
            <div data-tabname="one">Tab one</div>
            <div data-tabname="two">Tab two</div>
            <div data-tabname="three">Tab three</div>
        </tab-panel>
        <script>
            function asTabs(node) {
                // insert list of buttons with text from data-tabname
                createButtonList(node);

                // hide children but one as active
                activateTab(node, node.querySelector('div[data-tabname]').dataset.tabname);

                // add listeners to buttons to toggle which tab activates

            }

            function createButtonList(node) {
                const list = document.createElement('ul');

                for (const child of node.children) {
                    if (child.tagName === 'DIV') {
                        const button = document.createElement('button');
                        button.textContent = child.textContent;
                        list.appendChild(button);
                    }
                }

                return node.insertBefore(list, node.firstChild);
            }

            function activateTab(node, tabname) {
                node.querySelectorAll('div[data-tabname]').forEach((tab) => {
                    if (tab.dataset.tabname === tabname) return;

                    tab.style.display = 'none';
                });
            }

            asTabs(document.querySelector("tab-panel"));
        </script>
    </body>

</html>